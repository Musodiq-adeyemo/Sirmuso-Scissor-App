{% extends 'base.html' %}

{% block title %} 
    Dashboard Page
{% endblock %}

{% block body %} 
    <div style="margin-left: 150px;" class="bar-container1">
      <br>
        <h1 style="color: navy;"> DASHBOARD</h1> 
    </div>
    <br>
    <div>
        <div style="display: flex;
        justify-content: space-evenly;
        align-items: center;
        flex-direction: row;
        flex-wrap: wrap;
        height: auto;">
          <div class="card"style="width: 300px;border-radius: 25px;">
            <div class="card-header" style="color: navy;font-weight: bold;font-size: 30px;text-align: center;border-bottom: 5px solid lightgray;">
              <h1 style="font-size: 30px;">TOTAL URL</h1>
            </div>
            <div class="card-body">
              <h1 style="color: red;">{{total_urls}}</h1>
            </div>
          </div>
          
          <div class="card"style="width: 300px;border-radius: 25px;">
            <div class="card-header" style="color: navy;font-weight: bold;font-size: 20px;text-align: center;border-bottom: 5px solid lightgray;">
              <h1 style="font-size: 30px;">TOTAL CLICKS</h1>
            </div>
            <div class="card-body">
              <h1 style="color: red;" >{{total_clicks}}</h1>
            </div>
          </div>
          <div class="card"style="width: 300px;border-radius: 25px;">
            <div class="card-header" style="color: navy;font-weight: bold;font-size: 30px;text-align: center;border-bottom: 5px solid lightgray;">
              <h1 style="font-size: 30px;">TOTAL CUSTOM</h1>
            </div>
            <div class="card-body">
              <h1 style="color: red;" >{{total_custom}}</h1>
            </div>
          </div>
        </div>    
    </div>
    <br>
    <div class="styled-table" style="margin-top: 50px;display: flex;justify-content: center;width: 90%;">
      <table style="width: 100%;">
        <thead >
          <tr>
            <th>Id</th>
            <th>original url</th>
            <th>short url</th>
            <th>Customized url</th>
            <th>Clicks</th>
            <th>Date</th>
            <th>Detail</th>
            <th>Delete</th>
          </tr>
        </thead>
        {% for url in urls %}
        {% if url.user_id == user.id %}
        <tbody class="body">
          <tr>
            <td>{{url.id}}</td>
            <td>{{url.original_url}}</td>
            <td>{{url.short_url}}</td>
            <td>{{url.custom_url}}</td>
            <td>{{url.clicks}}</td>
            <td>{{url.timestamp.strftime('%d-%m-%y')}}</td>
            <td ><button style="color: blue;font-size: 20px;font-weight: bold;padding:10px;border: 5px solid blue;border-radius: 20px;"><a href="/urls/info/{{url.id}}">view</a></button> </td>
            <td ><button style="color: red;font-size: 20px;font-weight: bold;padding:10px;border: 5px solid red;border-radius: 20px;"><a href="/delete_url/{url.id}">delete</a></button> </td>
          </tr>
        </tbody>
        {% endif %}
        {% endfor %}
      </table>
{% endblock %}